# adds pages to the guidebook
# @s = player who's updating their guidebook
# located at @s
# run from gm4_apple_trees:guidebook/verify_module

data modify storage gm4_guidebook:temp insert set value ['','["",{"text":"◀ ","color":"#4AA0C7","clickEvent":{"action":"change_page","value":"2"},"hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Return to Table of Contents"},{"translate":"text.gm4.guidebook.return_to_table"}],"italic":true,"color":"gold"}]}},{"translate":"%1$s%3427655$s","with":[{"text":"Back"},{"translate":"text.gm4.guidebook.back"}],"color":"#4AA0C7","clickEvent":{"action":"change_page","value":"2"},"hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Return to Table of Contents"},{"translate":"text.gm4.guidebook.return_to_table"}],"italic":true,"color":"gold"}]}},{"text":"\\n"},{"text":"☶ ","color":"#864BC7","bold":true,"clickEvent":{"action":"open_url","value":"https://wiki.gm4.co/wiki/Fruiting_Trees/Apple_Trees"},"hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Open External Wiki"},{"translate":"text.gm4.guidebook.open_wiki"}],"italic":true,"color":"gold"}]}},{"translate":"%1$s%3427655$s","with":[{"text":"Wiki"},{"translate":"text.gm4.guidebook.wiki"}],"color":"#864BC7","clickEvent":{"action":"open_url","value":"https://wiki.gm4.co/wiki/Fruiting_Trees/Apple_Trees"},"hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Open External Wiki"},{"translate":"text.gm4.guidebook.open_wiki"}],"italic":true,"color":"gold"}]}},{"text":"\\n\\n"},{"text":"Apple Trees","underlined":true},{"text":"\\n"},{"translate":"%1$s%3427655$s","with":[{"text":"Apples do not drop from oak or dark oak trees. Another source of apples must be discovered."},{"translate":"text.gm4.guidebook.apple_trees.1"}]}]','["",{"text":"???","hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Undiscovered"},{"translate":"text.gm4.guidebook.undiscovered"}],"italic":true,"color":"red"}]}}]','["",{"text":"???","hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Undiscovered"},{"translate":"text.gm4.guidebook.undiscovered"}],"italic":true,"color":"red"}]}}]']

# unlockable pages
execute if entity @s[advancements={gm4_guidebook:apple_trees/page_1=true}] unless score gm4_orbis load.status matches 1 run data modify storage gm4_guidebook:temp insert[2] set value '["",{"translate":"%1$s%3427655$s","with":[{"text":"Wandering traders will sell apple tree saplings. This is the only source of apple tree saplings, apart from replanting. When planted, the saplings produce apple trees with up to five apple bearing leaves"},{"translate":"text.gm4.guidebook.apple_trees.2"}]}]'
execute if entity @s[advancements={gm4_guidebook:apple_trees/page_1=true}] if score gm4_orbis load.status matches 1 run data modify storage gm4_guidebook:temp insert[2] set value '["",{"translate":"%1$s%3427655$s","with":[{"text":"Apple trees are found naturally occurring in forest biomes.\\n\\nWandering traders will also sell apple tree saplings.\\n\\nWhen planted, these saplings produce apple trees with up to five apple bearing leaves."},{"translate":"text.gm4.guidebook.apple_trees.2.orbis"}]}]'
execute if entity @s[advancements={gm4_guidebook:apple_trees/page_2=true}] run data modify storage gm4_guidebook:temp insert[3] set value '["",{"translate":"%1$s%3427655$s","with":[{"text":"New apples will grow every 3 day cycles. Once ripe, they can be picked by right clicking with an empty hand. If apples are not picked in time they will fall from the tree.\\n\\nBreaking an apple bearing leaf has a 75% chance to drop an apple tree sapling."},{"translate":"text.gm4.guidebook.apple_trees.3"}]}]'
