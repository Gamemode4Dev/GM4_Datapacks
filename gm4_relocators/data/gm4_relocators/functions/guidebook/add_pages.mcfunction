# adds pages to the guidebook
# @s = player who's updating their guidebook
# located at @s
# run from gm4_relocators:guidebook/verify_module

execute unless entity @s[advancements={gm4_guidebook:relocators/page_0=true}] run data modify storage gm4_guidebook:temp insert set value ['','["",{"text":"◀ ","color":"#4AA0C7","clickEvent":{"action":"change_page","value":"2"},"hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Return to Table of Contents"},{"translate":"text.gm4.guidebook.return_to_table"}],"italic":true,"color":"gold"}]}},{"translate":"%1$s%3427655$s","with":[{"text":"Back"},{"translate":"text.gm4.guidebook.back"}],"color":"#4AA0C7","clickEvent":{"action":"change_page","value":"2"},"hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Return to Table of Contents"},{"translate":"text.gm4.guidebook.return_to_table"}],"italic":true,"color":"gold"}]}},{"text":"\\n"},{"text":"☶ ","color":"#864BC7","bold":true,"clickEvent":{"action":"open_url","value":"https://wiki.gm4.co/wiki/Relocators"},"hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Open External Wiki"},{"translate":"text.gm4.guidebook.open_wiki"}],"italic":true,"color":"gold"}]}},{"translate":"%1$s%3427655$s","with":[{"text":"Wiki"},{"translate":"text.gm4.guidebook.wiki"}],"color":"#864BC7","clickEvent":{"action":"open_url","value":"https://wiki.gm4.co/wiki/Relocators"},"hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Open External Wiki"},{"translate":"text.gm4.guidebook.open_wiki"}],"italic":true,"color":"gold"}]}},{"text":"\\n\\n"},{"text":"Relocators","underlined":true},{"text":"\\n"},{"text":"???","hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Undiscovered"},{"translate":"text.gm4.guidebook.undiscovered"}],"italic":true,"color":"red"}]}}]','["",{"text":"???","hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Undiscovered"},{"translate":"text.gm4.guidebook.undiscovered"}],"italic":true,"color":"red"}]}}]','["",{"text":"???","hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Undiscovered"},{"translate":"text.gm4.guidebook.undiscovered"}],"italic":true,"color":"red"}]}}]']
execute if entity @s[advancements={gm4_guidebook:relocators/page_0=true}] run data modify storage gm4_guidebook:temp insert set value ['','["",{"text":"◀ ","color":"#4AA0C7","clickEvent":{"action":"change_page","value":"2"},"hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Return to Table of Contents"},{"translate":"text.gm4.guidebook.return_to_table"}],"italic":true,"color":"gold"}]}},{"translate":"%1$s%3427655$s","with":[{"text":"Back"},{"translate":"text.gm4.guidebook.back"}],"color":"#4AA0C7","clickEvent":{"action":"change_page","value":"2"},"hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Return to Table of Contents"},{"translate":"text.gm4.guidebook.return_to_table"}],"italic":true,"color":"gold"}]}},{"text":"\\n"},{"text":"☶ ","color":"#864BC7","bold":true,"clickEvent":{"action":"open_url","value":"https://wiki.gm4.co/wiki/Relocators"},"hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Open External Wiki"},{"translate":"text.gm4.guidebook.open_wiki"}],"italic":true,"color":"gold"}]}},{"translate":"%1$s%3427655$s","with":[{"text":"Wiki"},{"translate":"text.gm4.guidebook.wiki"}],"color":"#864BC7","clickEvent":{"action":"open_url","value":"https://wiki.gm4.co/wiki/Relocators"},"hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Open External Wiki"},{"translate":"text.gm4.guidebook.open_wiki"}],"italic":true,"color":"gold"}]}},{"text":"\\n\\n"},{"text":"Relocators","underlined":true},{"text":"\\n"},{"translate":"%1$s%3427655$s","with":[{"text":"Relocators can be used to move machine blocks. They can be crafted in a Custom Crafter with end game materials."},{"translate":"text.gm4.guidebook.relocators.1"}]}]','["",{"text":"???","hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Undiscovered"},{"translate":"text.gm4.guidebook.undiscovered"}],"italic":true,"color":"red"}]}}]','["",{"text":"???","hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Undiscovered"},{"translate":"text.gm4.guidebook.undiscovered"}],"italic":true,"color":"red"}]}}]']

# unlockable pages
execute if entity @s[advancements={gm4_guidebook:relocators/page_1=true}] unless score gm4_book_binders load.status matches 1 run data modify storage gm4_guidebook:temp insert[2] set value '["",{"translate":"%1$s%3427655$s","with":[{"text":"Relocators can be crafted with the following recipe:"},{"translate":"text.gm4.guidebook.relocators.2_0"}]},"\\n\\n  ",{"translate":"container.gm4.custom_crafter","fallback":"Custom Crafter"},"\\n      ",{"translate":"%1$s%3427656$s","with":[{"text":"☒","color":"#27a38a"},{"translate":"text.gm4.guidebook.crafting.display.item.minecraft.diamond","font":"gm4:guidebook","color":"white"}],"hoverEvent":{"action":"show_item","contents":{"id":"diamond"}}},{"translate":"%1$s%3427656$s","with":[{"text":"☒","color":"#873dba"},{"translate":"text.gm4.guidebook.crafting.display.item.minecraft.popped_chorus_fruit","font":"gm4:guidebook","color":"white"}],"hoverEvent":{"action":"show_item","contents":{"id":"popped_chorus_fruit"}}},{"translate":"%1$s%3427656$s","with":[{"text":"☒","color":"#27a38a"},{"translate":"text.gm4.guidebook.crafting.display.item.minecraft.diamond","font":"gm4:guidebook","color":"white"}],"hoverEvent":{"action":"show_item","contents":{"id":"diamond"}}},"\\n","      ",{"translate":"%1$s%3427656$s","with":[{"text":"☒","color":"#873dba"},{"translate":"text.gm4.guidebook.crafting.display.item.minecraft.popped_chorus_fruit","font":"gm4:guidebook","color":"white"}],"hoverEvent":{"action":"show_item","contents":{"id":"popped_chorus_fruit"}}},{"translate":"%1$s%3427656$s","with":[{"text":"☒","color":"#591b3f"},{"translate":"text.gm4.guidebook.crafting.display.item.minecraft.enchanted_book","font":"gm4:guidebook","color":"white"}],"hoverEvent":{"action":"show_item","contents":{"id":"enchanted_book","tag":"{StoredEnchantments:[{id:\\"minecraft:silk_touch\\",lvl:1s}]}"}}},{"translate":"%1$s%3427656$s","with":[{"text":"☒","color":"#873dba"},{"translate":"text.gm4.guidebook.crafting.display.item.minecraft.popped_chorus_fruit","font":"gm4:guidebook","color":"white"}],"hoverEvent":{"action":"show_item","contents":{"id":"popped_chorus_fruit"}}}," → ",{"translate":"%1$s%3427656$s","with":[{"text":"☒","color":"#9a00c9"},{"translate":"text.gm4.guidebook.crafting.display.item.gm4.relocator","font":"gm4:guidebook","color":"white"}],"hoverEvent":{"action":"show_item","contents":{"id":"player_head","tag":"{CustomModelData:3420027,gm4_relocator:1b,SkullOwner:{Id:[I;739224026,-1192800770,-2115274619,-970102126],Properties:{textures:[{Value:\\"eyJ0aW1lc3RhbXAiOjE1NjM4MTY4ODE5NTcsInByb2ZpbGVJZCI6IjdkYTJhYjNhOTNjYTQ4ZWU4MzA0OGFmYzNiODBlNjhlIiwicHJvZmlsZU5hbWUiOiJHb2xkYXBmZWwiLCJzaWduYXR1cmVSZXF1aXJlZCI6dHJ1ZSwidGV4dHVyZXMiOnsiU0tJTiI6eyJ1cmwiOiJodHRwOi8vdGV4dHVyZXMubWluZWNyYWZ0Lm5ldC90ZXh0dXJlLzMwM2Q3YTkyNTIxZDZmZTU1M2ZiNGYyNzIxOTI2Yzk4YTVlMDdlMDhmZjdiNzg4OTg1OTc3MGM0Yjg0NmJlZDYifX19\\"}]}},display:{Name:\'{\\"translate\\":\\"%1$s%3427655$s\\",\\"with\\":[\\"Relocator\\",{\\"translate\\":\\"item.gm4.relocator\\"}],\\"italic\\":false,\\"color\\":\\"yellow\\"}\'}}"}}},"\\n","      ",{"translate":"%1$s%3427656$s","with":[{"text":"☒","color":"#27a38a"},{"translate":"text.gm4.guidebook.crafting.display.item.minecraft.diamond","font":"gm4:guidebook","color":"white"}],"hoverEvent":{"action":"show_item","contents":{"id":"diamond"}}},{"translate":"%1$s%3427656$s","with":[{"text":"☒","color":"#873dba"},{"translate":"text.gm4.guidebook.crafting.display.item.minecraft.popped_chorus_fruit","font":"gm4:guidebook","color":"white"}],"hoverEvent":{"action":"show_item","contents":{"id":"popped_chorus_fruit"}}},{"translate":"%1$s%3427656$s","with":[{"text":"☒","color":"#27a38a"},{"translate":"text.gm4.guidebook.crafting.display.item.minecraft.diamond","font":"gm4:guidebook","color":"white"}],"hoverEvent":{"action":"show_item","contents":{"id":"diamond"}}},"\\n      "]'
execute if entity @s[advancements={gm4_guidebook:relocators/page_1=true}] if score gm4_book_binders load.status matches 1 run data modify storage gm4_guidebook:temp insert[2] set value '["",{"translate":"%1$s%3427655$s","with":[{"text":"Relocators can be crafted with the following recipe:"},{"translate":"text.gm4.guidebook.relocators.2_0"}]},"\\n\\n  ",{"translate":"container.gm4.custom_crafter","fallback":"Custom Crafter"},"\\n      ",{"translate":"%1$s%3427656$s","with":[{"text":"☒","color":"#27a38a"},{"translate":"text.gm4.guidebook.crafting.display.item.minecraft.diamond","font":"gm4:guidebook","color":"white"}],"hoverEvent":{"action":"show_item","contents":{"id":"diamond"}}},{"translate":"%1$s%3427656$s","with":[{"text":"☒","color":"#873dba"},{"translate":"text.gm4.guidebook.crafting.display.item.minecraft.popped_chorus_fruit","font":"gm4:guidebook","color":"white"}],"hoverEvent":{"action":"show_item","contents":{"id":"popped_chorus_fruit"}}},{"translate":"%1$s%3427656$s","with":[{"text":"☒","color":"#27a38a"},{"translate":"text.gm4.guidebook.crafting.display.item.minecraft.diamond","font":"gm4:guidebook","color":"white"}],"hoverEvent":{"action":"show_item","contents":{"id":"diamond"}}},"\\n","      ",{"translate":"%1$s%3427656$s","with":[{"text":"☒","color":"#873dba"},{"translate":"text.gm4.guidebook.crafting.display.item.minecraft.popped_chorus_fruit","font":"gm4:guidebook","color":"white"}],"hoverEvent":{"action":"show_item","contents":{"id":"popped_chorus_fruit"}}},{"translate":"%1$s%3427656$s","with":[{"text":"☒","color":"#591b3f"},{"translate":"text.gm4.guidebook.crafting.display.item.minecraft.enchanted_book","font":"gm4:guidebook","color":"white"}],"hoverEvent":{"action":"show_item","contents":{"id":"enchanted_book","tag":"{StoredEnchantments:[{id:\\"minecraft:silk_touch\\",lvl:1s}]}"}}},{"translate":"%1$s%3427656$s","with":[{"text":"☒","color":"#873dba"},{"translate":"text.gm4.guidebook.crafting.display.item.minecraft.popped_chorus_fruit","font":"gm4:guidebook","color":"white"}],"hoverEvent":{"action":"show_item","contents":{"id":"popped_chorus_fruit"}}}," → ",{"translate":"%1$s%3427656$s","with":[{"text":"☒","color":"#9a00c9"},{"translate":"text.gm4.guidebook.crafting.display.item.gm4.relocator","font":"gm4:guidebook","color":"white"}],"hoverEvent":{"action":"show_item","contents":{"id":"player_head","tag":"{CustomModelData:3420027,gm4_relocator:1b,SkullOwner:{Id:[I;739224026,-1192800770,-2115274619,-970102126],Properties:{textures:[{Value:\\"eyJ0aW1lc3RhbXAiOjE1NjM4MTY4ODE5NTcsInByb2ZpbGVJZCI6IjdkYTJhYjNhOTNjYTQ4ZWU4MzA0OGFmYzNiODBlNjhlIiwicHJvZmlsZU5hbWUiOiJHb2xkYXBmZWwiLCJzaWduYXR1cmVSZXF1aXJlZCI6dHJ1ZSwidGV4dHVyZXMiOnsiU0tJTiI6eyJ1cmwiOiJodHRwOi8vdGV4dHVyZXMubWluZWNyYWZ0Lm5ldC90ZXh0dXJlLzMwM2Q3YTkyNTIxZDZmZTU1M2ZiNGYyNzIxOTI2Yzk4YTVlMDdlMDhmZjdiNzg4OTg1OTc3MGM0Yjg0NmJlZDYifX19\\"}]}},display:{Name:\'{\\"translate\\":\\"%1$s%3427655$s\\",\\"with\\":[\\"Relocator\\",{\\"translate\\":\\"item.gm4.relocator\\"}],\\"italic\\":false,\\"color\\":\\"yellow\\"}\'}}"}}},"\\n","      ",{"translate":"%1$s%3427656$s","with":[{"text":"☒","color":"#27a38a"},{"translate":"text.gm4.guidebook.crafting.display.item.minecraft.diamond","font":"gm4:guidebook","color":"white"}],"hoverEvent":{"action":"show_item","contents":{"id":"diamond"}}},{"translate":"%1$s%3427656$s","with":[{"text":"☒","color":"#873dba"},{"translate":"text.gm4.guidebook.crafting.display.item.minecraft.popped_chorus_fruit","font":"gm4:guidebook","color":"white"}],"hoverEvent":{"action":"show_item","contents":{"id":"popped_chorus_fruit"}}},{"translate":"%1$s%3427656$s","with":[{"text":"☒","color":"#27a38a"},{"translate":"text.gm4.guidebook.crafting.display.item.minecraft.diamond","font":"gm4:guidebook","color":"white"}],"hoverEvent":{"action":"show_item","contents":{"id":"diamond"}}},"\\n      ",{"text":"**","hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Silk Touch Enchanted Pages can be used\\ninstead of the Silk Touch Book"},{"translate":"text.gm4.guidebook.relocators.2_1.book_binders"}]}]}}]'
execute if entity @s[advancements={gm4_guidebook:relocators/page_2=true}] run data modify storage gm4_guidebook:temp insert[3] set value '["",{"translate":"%1$s%3427655$s","with":[{"text":"Placing an empty relocator on a machine block will pick up that machine and put it in the relocator.\\n\\nPlacing a full relocator on the ground will empty the relocator and place the machine there."},{"translate":"text.gm4.guidebook.relocators.3"}]}]'
