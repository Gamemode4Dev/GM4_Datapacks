# adds pages to the guidebook
# @s = player who's updating their guidebook
# located at @s
# run from gm4_metallurgy:guidebook/verify_module

data modify storage gm4_guidebook:temp insert set value ['','["",{"text":"◀ ","color":"#4AA0C7","clickEvent":{"action":"change_page","value":"2"},"hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Return to Table of Contents"},{"translate":"text.gm4.guidebook.return_to_table"}],"italic":true,"color":"gold"}]}},{"translate":"%1$s%3427655$s","with":[{"text":"Back"},{"translate":"text.gm4.guidebook.back"}],"color":"#4AA0C7","clickEvent":{"action":"change_page","value":"2"},"hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Return to Table of Contents"},{"translate":"text.gm4.guidebook.return_to_table"}],"italic":true,"color":"gold"}]}},{"text":"\\n"},{"text":"☶ ","color":"#864BC7","bold":true,"clickEvent":{"action":"open_url","value":"https://wiki.gm4.co/wiki/Metallurgy"},"hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Open External Wiki"},{"translate":"text.gm4.guidebook.open_wiki"}],"italic":true,"color":"gold"}]}},{"translate":"%1$s%3427655$s","with":[{"text":"Wiki"},{"translate":"text.gm4.guidebook.wiki"}],"color":"#864BC7","clickEvent":{"action":"open_url","value":"https://wiki.gm4.co/wiki/Metallurgy"},"hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Open External Wiki"},{"translate":"text.gm4.guidebook.open_wiki"}],"italic":true,"color":"gold"}]}},{"text":"\\n\\n"},{"text":"Metallurgy","underlined":true},{"text":"\\n"},{"translate":"%1$s%3427655$s","with":[{"text":"Custom abilities, called shamirs, can be added to tools and armour, similar to enchantments. Shamirs are exclusive, meaning only one can be applied to an item at a time."},{"translate":"text.gm4.guidebook.metallurgy.1"}]}]','["",{"text":"???","hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Undiscovered"},{"translate":"text.gm4.guidebook.undiscovered"}],"italic":true,"color":"red"}]}}]','["",{"text":"???","hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Undiscovered"},{"translate":"text.gm4.guidebook.undiscovered"}],"italic":true,"color":"red"}]}}]','["",{"text":"???","hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Undiscovered"},{"translate":"text.gm4.guidebook.undiscovered"}],"italic":true,"color":"red"}]}}]','["",{"text":"???","hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Undiscovered"},{"translate":"text.gm4.guidebook.undiscovered"}],"italic":true,"color":"red"}]}}]','["",{"text":"???","hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Undiscovered"},{"translate":"text.gm4.guidebook.undiscovered"}],"italic":true,"color":"red"}]}}]','["",{"text":"???","hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Undiscovered"},{"translate":"text.gm4.guidebook.undiscovered"}],"italic":true,"color":"red"}]}}]','["",{"text":"???","hoverEvent":{"action":"show_text","contents":[{"translate":"%1$s%3427655$s","with":[{"text":"Undiscovered"},{"translate":"text.gm4.guidebook.undiscovered"}],"italic":true,"color":"red"}]}}]']

# unlockable pages
execute if entity @s[advancements={gm4_guidebook:metallurgy/page_1=true}] run data modify storage gm4_guidebook:temp insert[2] set value '["",{"translate":"%1$s%3427655$s","with":[{"text":"Blowing up stone-type blocks with tnt will drop metal ore lumps.\\n\\nEach of the four stone types (stone, granite, andesite, and diorite) drop a different metal lump."},{"translate":"text.gm4.guidebook.metallurgy.2"}]}]'
execute if entity @s[advancements={gm4_guidebook:metallurgy/page_2=true}] run data modify storage gm4_guidebook:temp insert[3] set value '["",{"translate":"%1$s%3427655$s","with":[{"text":"A mould can be created by dropping 1 obsidian and 1 clay ball on a sand block.\\n\\nMoulds must be heated by placing lava on top of them. When the mould starts smoking, the lava should be removed before the mould overheats and breaks the sand."},{"translate":"text.gm4.guidebook.metallurgy.3"}]}]'
execute if entity @s[advancements={gm4_guidebook:metallurgy/page_2=true}] run data modify storage gm4_guidebook:temp insert[4] set value '["",{"translate":"%1$s%3427655$s","with":[{"text":"Ore lumps can be dropped in one by one into a heated mould. To create a proper cast, 23 ore lumps must be added: either 23 of the same ore or using a 17-6 ratio (17 Aluminium + 6 Barium / 17 Thorium + 6 Bismuth). The mould will cool over time and must be reheated to continue adding metal."},{"translate":"text.gm4.guidebook.metallurgy.4"}]}]'
execute if entity @s[advancements={gm4_guidebook:metallurgy/page_2=true}] run data modify storage gm4_guidebook:temp insert[5] set value '["",{"translate":"%1$s%3427655$s","with":[{"text":"If a cast is dropped into the mould, it will return one obsidian and about half of its metal will recycled.\\n\\nPure Metal Bands supply 12 ore of their respective metal, while Alloy Metal Bands supply 9 primary ore and 3 secondary ore."},{"translate":"text.gm4.guidebook.metallurgy.5"}]}]'
execute if entity @s[advancements={gm4_guidebook:metallurgy/page_2=true}] run data modify storage gm4_guidebook:temp insert[6] set value '["",{"translate":"%1$s%3427655$s","with":[{"text":"Once a mould completely cools down, a Shamir Band will form. If the casting process was done incorrectly, a useless Mundane Band will be on the cast.\\n\\nIf no metal is added to the cast before it cools down, the obsidian will drop, losing the clay ball."},{"translate":"text.gm4.guidebook.metallurgy.6"}]}]'
execute if entity @s[advancements={gm4_guidebook:metallurgy/page_6=true}] run data modify storage gm4_guidebook:temp insert[7] set value '["",{"translate":"%1$s%3427655$s","with":[{"text":"Each band type has a specific attribute.\\n\\nBismuth is Creation, Thorium is Destruction, and Curie\'s Bismium is Equivalence.\\n\\nBarium is Amplification, Alluminium is Supression, and Barimium is Modification."},{"translate":"text.gm4.guidebook.metallurgy.7"}]}]'
execute if entity @s[advancements={gm4_guidebook:metallurgy/page_6=true}] run data modify storage gm4_guidebook:temp insert[8] set value '["",{"translate":"%1$s%3427655$s","with":[{"text":"To attach a shamir to an item, drop the cast and item to apply on an anvil, then \'smoosh\' them together by powering a downwards facing piston placed two blocks above the anvil. To detach a shamir, do the same \'smooshing\' process after dropping the shamir-bearing item and an obsidian."},{"translate":"text.gm4.guidebook.metallurgy.8"}]}]' 
